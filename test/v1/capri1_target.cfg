# capri1_target.cfg (essential lines)
transport select jtag
jtag newtap capri1 cpu -irlen 5 -expected-id 0x0c0c5db3
target create capri1.cpu riscv -chain-position capri1.cpu

riscv set_mem_access sysbus
riscv set_enable_virt2phys off
riscv set_reset_timeout_sec 10

# CAPRI1 map (from RTL)
set CAPRI1_SRAM_BASE  0x10000000
set CAPRI1_SOC_BASE   0x03000000
set CAPRI1_BOOT_ADDR  0x03000000
set CAPRI1_FETCH_ADDR 0x03000004
set CAPRI1_STAT_ADDR  0x03000008

capri1.cpu configure -work-area-phys $CAPRI1_SRAM_BASE -work-area-size 0x200 -work-area-backup 0

